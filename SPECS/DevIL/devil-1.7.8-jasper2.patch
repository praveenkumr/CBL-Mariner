diff -up devil-1.7.8/src-IL/src/il_jp2.c~ devil-1.7.8/src-IL/src/il_jp2.c
--- devil-1.7.8/src-IL/src/il_jp2.c~	2009-03-08 08:10:09.000000000 +0100
+++ devil-1.7.8/src-IL/src/il_jp2.c	2016-12-04 14:03:14.853568085 +0100
@@ -459,7 +459,7 @@ static void jas_stream_initbuf(jas_strea
 			/* The buffer must be large enough to accommodate maximum
 			  putback. */
 			assert(bufsize > JAS_STREAM_MAXPUTBACK);
-			stream->bufbase_ = JAS_CAST(uchar *, buf);
+			stream->bufbase_ = JAS_CAST(unsigned char *, buf);
 			stream->bufsize_ = bufsize - JAS_STREAM_MAXPUTBACK;
 		}
 	} else {
